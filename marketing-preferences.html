<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marketing Preferences - KR Bank</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/responsive.css">
  <style>
    .chip {
      display: inline-flex;
      align-items: center;
      padding: 12px 24px;
      border: 1px solid #e0e0e0;
      border-radius: 50px;
      background-color: #fff;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      user-select: none;
    }
    
    .chip:hover {
      border-color: #B73764;
      background-color: #f8f9fa;
    }
    
    .chip.selected {
      border-color: #B73764;
      background-color: #F9EFF3;
    }
    
    .chip .chip-icon {
      margin-right: 8px;
      font-size: 18px;
    }
    
    .chip.selected .chip-icon {
      content: "✓";
    }
    
    .preferences-container {
      background-color: #FFF;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 32px;
      margin: 24px 0;
    }
    
    .preferences-title {
      font-size: 16px;
      font-weight: 400;
      margin-bottom: 16px;
      color: #333;
    }
    
    .chips-container {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 16px 0;
    }
    
    .privacy-notice {
      margin-top: 24px;
      font-size: 14px;
      color: #666;
    }
    
    .privacy-notice a {
      color: #B73764;
      text-decoration: none;
    }
    
    .privacy-notice a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- Site Header -->
  <div class="site-header">
    <div class="container">
      <div class="site-header-content">
        <div class="site-logo">
          <a href="index.html">KR Bank</a>
        </div>
        <div class="site-nav">
          <a href="#" class="support-link">Need support?</a>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <header class="mb-4" style="margin-top: 48px;">
      <h1>Please update your details</h1>
      <p class="subtitle">We need this information before you go to your accounts.</p>
      <div class="divider" style="margin: 48px 0 58px 0;"></div>
    </header>

    <div class="form-container">
      <p class="mb-3">If you'd like to receive marketing communications from us, please select your preferred contact method. If you don't want to receive marketing communications from us, you don't need to do anything.</p>
      <p class="mb-4">You can change your preferences at any time by logging into Online Services.</p>

      <div class="preferences-container">
        <div class="preferences-title">Please choose how you'd prefer us to keep you updated.</div>
        
        <div class="chips-container">
          <div class="chip" data-preference="email">
            <span class="chip-icon">+</span>
            <span>Email</span>
          </div>
          <div class="chip" data-preference="text">
            <span class="chip-icon">+</span>
            <span>Text</span>
          </div>
        </div>
      </div>

      <div class="privacy-notice">
        For more information on how we use your data please read <a href="#" target="_blank">our Privacy Notice</a>
      </div>
    </div>
    <div class="mt-4" style="text-align: right;">
        <button type="button" id="continueBtn" class="btn btn-primary btn-lg">Continue</button>
      </div>
  </div>

  <!-- Site Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-terms">
        <p>By using this service, you agree to the KR Bank Terms of Service and Privacy Policy. All information provided must be accurate and complete.</p>
        <p>KR Bank is authorized and regulated by the Financial Conduct Authority. Registration number: 123456.</p>
        <p>For full terms and conditions, please visit our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>.</p>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
        <p>&copy; 2025 KR Bank. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const chips = document.querySelectorAll('.chip');
      const continueBtn = document.getElementById('continueBtn');
      
      // Handle chip selection
      chips.forEach(chip => {
        chip.addEventListener('click', function() {
          this.classList.toggle('selected');
          
          // Update icon
          const icon = this.querySelector('.chip-icon');
          if (this.classList.contains('selected')) {
            icon.textContent = '✓';
          } else {
            icon.textContent = '+';
          }
        });
      });
      
      // Handle continue button
      continueBtn.addEventListener('click', function() {
        // Get selected preferences
        const selectedPreferences = [];
        chips.forEach(chip => {
          if (chip.classList.contains('selected')) {
            selectedPreferences.push(chip.dataset.preference);
          }
        });
        
        // Save preferences to session storage
        const formData = JSON.parse(sessionStorage.getItem('formData') || '{}');
        formData.marketingPreferences = selectedPreferences;
        sessionStorage.setItem('formData', JSON.stringify(formData));
        
        // Navigate to nominated accounts page
        window.location.href = 'nominated-accounts.html';
      });
    });
  </script>
</body>
</html>
